<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Note Pro</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pouchdb/6.2.0/pouchdb.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js"></script>

    <link href="reset.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">

    <script src="loadTemplate.js"></script>
</head>
<body class="white-and-black" style="display: block;">

<header class="flex-container" style="flex-direction: column; ">
    <section class="flex-container" style="justify-content: space-between;">
        <button style="">Create new Note</button>
        <select id="style-selector" name="style" style=""
                onchange="var body = $('body'); body.removeClass(); body.addClass($('#style-selector')[0].value)">
            <option value="black-and-white">Black & White Style</option>
            <option value="white-and-black" selected>White & Black Style</option>
        </select>
    </section>

    <section class="flex-container" style="justify-content: space-between;">
        <form class="button-group">
            <input id="sort-by-importance" type="radio" name="sort-by" checked>
            <label for="sort-by-importance" class="button">
                <i class="fa fa-circle-o icon-unchecked"></i>
                <i class="fa fa-check-circle-o icon-checked"></i>
                By importance
            </label>
            <input id="sort-by-finish-date" type="radio" name="sort-by">
            <label for="sort-by-finish-date" class="button">
                <i class="fa fa-circle-o icon-unchecked"></i>
                <i class="fa fa-check-circle-o icon-checked"></i>
                By finish date
            </label>
            <input id="sort-by-create-date" type="radio" name="sort-by">
            <label for="sort-by-create-date" class="button">
                <i class="fa fa-circle-o icon-unchecked"></i>
                <i class="fa fa-check-circle-o icon-checked"></i>
                By created date
            </label>
        </form>

        <input id="show-finished" type="checkbox" name="show-finished" class="button">
        <label for="show-finished" class="button">
            <i class="fa fa-square-o icon-unchecked"></i>
            <i class="fa fa-check-square-o icon-checked"></i>
            Show finished
        </label>
    </section>
</header>

<main style="flex: 1; overflow: auto" id="main-container">


    <!--<ol class="todo-list">-->
    <!--<li class="flex-container" style="flex-direction:column; align-items: stretch;">-->
    <!--<article class="flex-container note-entry"-->
    <!--style="justify-content: space-between;align-items: stretch;align-content: center;flex-wrap: wrap;">-->
    <!--<section class="flex-container note-section" style="flex-basis: 60%;flex-grow: 2;flex-direction: column;">-->
    <!--<div class="flex-container" style="justify-content: space-between;margin: 0 0 1em 0;">-->
    <!--<h1 style="">-->
    <!--CAS FEE Selbststudium / Projekt Aufgabe erledigen-->
    <!--</h1>-->
    <!--<div style="min-width: 5em; flex-grow: 0;">-->
    <!--<i class="fa fa-bolt"></i>-->
    <!--<i class="fa fa-bolt"></i>-->
    <!--<i class="fa fa-bolt" style="color: var(&#45;&#45;button-bg-color)"></i>-->
    <!--<i class="fa fa-bolt" style="color: var(&#45;&#45;button-bg-color)"></i>-->
    <!--<i class="fa fa-bolt" style="color: var(&#45;&#45;button-bg-color)"></i>-->
    <!--</div>-->
    <!--</div>-->
    <!--<textarea readonly rows="10">HTML für die note App erstellen.-->
    <!--CSS erstellen für die note App.</textarea>-->
    <!--</section>-->

    <!--<section class="flex-container finished-section" style="flex-direction: column;flex-grow: 1;">-->
    <!--<div style="margin-bottom: 1em;">-->
    <!--Nächsten Mittwoch-->
    <!--</div>-->
    <!--<div>-->
    <!--<i class="fa fa-check-square-o"></i> Finished [Today]-->
    <!--</div>-->
    <!--</section>-->

    <!--<div class="edit-section" style="flex-basis: 10%; flex-grow: 0;">-->
    <!--<button>Edit</button>-->
    <!--</div>-->
    <!--</article>-->

    <!--<article class="flex-container note-entry"-->
    <!--style="justify-content: space-between;align-items: stretch;align-content: center;flex-wrap: wrap;">-->
    <!--<section class="flex-container note-section" style="flex-basis: 60%;flex-grow: 2;flex-direction: column;">-->
    <!--<div class="flex-container" style="justify-content: space-between;margin: 0 0 1em 0;">-->
    <!--<h1 style="">-->
    <!--CAS FEE Selbststudium / Projekt Aufgabe erledigen / Übermässig langer Titel hat hier auch noch irgendwie Platz-->
    <!--</h1>-->
    <!--<div style="min-width: 5em; flex-grow: 0;">-->
    <!--<i class="fa fa-bolt"></i>-->
    <!--<i class="fa fa-bolt"></i>-->
    <!--<i class="fa fa-bolt" style="color: var(&#45;&#45;button-bg-color)"></i>-->
    <!--<i class="fa fa-bolt" style="color: var(&#45;&#45;button-bg-color)"></i>-->
    <!--<i class="fa fa-bolt" style="color: var(&#45;&#45;button-bg-color)"></i>-->
    <!--</div>-->
    <!--</div>-->
    <!--<textarea readonly rows="10">HTML für die note App erstellen.-->
    <!--CSS erstellen für die note App.</textarea>-->
    <!--</section>-->

    <!--<section class="flex-container finished-section" style="flex-direction: column;flex-grow: 1;">-->
    <!--<div style="margin-bottom: 1em;">-->
    <!--Nächsten Mittwoch-->
    <!--</div>-->
    <!--<div>-->
    <!--<i class="fa fa-check-square-o"></i> Finished [Today]-->
    <!--</div>-->
    <!--</section>-->

    <!--<div class="edit-section" style="flex-basis: 10%; flex-grow: 0;">-->
    <!--<button>Edit</button>-->
    <!--</div>-->
    <!--</article>-->
    <!--</li>-->
    <!--</ol>-->


</main>

<script>
    'use strict';

    const db = new PouchDB('notes');
    /*
    let note1 = {
        title: "Dies mein Titel",
        description: "Mein schöne Beschreibung",
        creationDate: new Date()
    };
    let note2 = {
        title: "CAS FEE Selbststudium / Projekt Aufgabe erledigen / Übermässig langer Titel hat hier auch noch irgendwie Platz",
        description: "HTML für die note App erstellen.\nCSS erstellen für die note App.",
        creationDate: new Date()
    };

    db.post(note1, handler);
    db.post(note2, handler);
*/
    showNotes();

    function showNotes() {
        db.allDocs({include_docs: true, descending: true}, function (err, doc) {
            redrawNotesUI(_.map(doc.rows, "doc"));
        });
    }

    function redrawNotesUI(notes) {
        new LoadTemplate("main-container", "notes-overview", {notes: notes}).create(() => {});
    }

    function handler(err, result) {
        if (err) {
            console.log(err);
        }
    }
</script>
</body>
</html>